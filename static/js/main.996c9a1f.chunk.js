(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(8),r=n.n(o),i=(n(14),n(7)),s=n(3),l=n(9),u=n.n(l),j="".concat("https://pixabay.com/api/?image_type=","photo&orientation=horizontal&key=").concat("21031732-6fee4eefe658f550324b0a29e","&per_page=12&q=");var b=n(0);function m(e){var t=e.onSubmitDo;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("header",{className:"Searchbar",children:Object(b.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(e.target.elements[1].value),e.target.elements[1].value=""},children:[Object(b.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(b.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(b.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})})}function d(e){var t=e.id,n=e.url,c=e.clickOnImg;return Object(b.jsx)("img",{className:"galleryImg",id:t,src:n,alt:"img",onClick:c})}function O(e){var t=e.imgs,n=e.clickOnGall;return Object(b.jsx)("ul",{className:"ImageGallery",children:t.map((function(e,t){var c=e.id,a=e.webformatURL;return Object(b.jsx)("li",{children:Object(b.jsx)(d,{id:c,url:a,clickOnImg:n})},t)}))})}function f(e){var t=e.urlBigImg,n=e.onClose,a=function(e){"Escape"===e.code&&n()};return Object(c.useEffect)((function(){return window.addEventListener("keydown",a),document.body.classList.toggle("no-scroll"),function(){window.removeEventListener("keydown",a),document.body.classList.toggle("no-scroll")}})),Object(b.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&n()},children:Object(b.jsx)("div",{className:"Modal",children:Object(b.jsx)("img",{src:t,alt:"oversize"})})})}function h(e){var t=e.onClick;return Object(b.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}function g(){var e,t=Object(c.useState)(null),n=Object(s.a)(t,2),a=n[0],o=n[1],r=Object(c.useState)(1),l=Object(s.a)(r,2),d=l[0],g=l[1],p=Object(c.useState)([]),x=Object(s.a)(p,2),v=x[0],S=x[1],k=Object(c.useState)(null),y=Object(s.a)(k,2),w=y[0],L=y[1],N=Object(c.useState)(!1),I=Object(s.a)(N,2),C=I[0],F=I[1],E=Object(c.useState)(!1),R=Object(s.a)(E,2),U=R[0],B=R[1],D=function(){return F(!C)};return Object(c.useEffect)((function(){a&&(B(!0),function(e,t){return fetch("".concat(j).concat(e,"&page=").concat(t)).then((function(e){return e.json()})).then((function(e){return e.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}}))}))}(a,d).then((function(e){return S((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))}))})),B(!1))}),[a,d]),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"}),Object(b.jsxs)("div",{className:"App",children:[U&&Object(b.jsx)(u.a,{className:"Loader",type:"Watch"}),Object(b.jsx)(m,{onSubmitDo:function(e){o(e),g(1),S([])}}),!U&&v.length>0&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O,{imgs:v,clickOnGall:function(e){L(+e.target.id),D()}}),Object(b.jsx)(h,{onClick:function(){return g((function(e){return e+1}))}})]}),C&&Object(b.jsx)(f,{urlBigImg:(e=w,v[v.map((function(e){return e.id})).indexOf(e)].largeImageURL),onClose:D})," "]})}r.a.render(Object(b.jsxs)(a.a.StrictMode,{children:[Object(b.jsx)(g,{}),","]}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.996c9a1f.chunk.js.map